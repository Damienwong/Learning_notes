## 大端对齐vs小端对齐

计算机的内存最小单位是什么？是BYTE，是字节。

一个大于BYTE的数据类型在内存中存放的时候要有先后顺序。

高内存地址放整数的高位，低内存地址放整数的低位，这种方式叫倒着放，术语叫**小端对齐**。电脑X86和手机ARM都是小端对齐的。

高内存地址放整数的低位，低内存地址放整数的高位，这种方式叫正着放，术语叫**大端对齐**。很多Unix服务器的cpu都是大端对齐的。

(前面为低内存地址，后面为高内存地址)

![](./ImagesFolder/小端对齐大端对齐.png)

![](./ImagesFolder/小端对齐大端对齐1.png)

## 字节流解析
```python
# 小端对齐解析
import struct

b = b'\x01\x02'
a = struct.unpack('<H', b)  # 2字节整数，小端字节转换
a_ = 2 * (16 ** 2) + 1 * (16 ** 0)  # 手动计算
c_list = struct.unpack('2B', b)  # 1字节整数
a__ = c_list[1] * (16 ** 2) + c_list[0]
print(a[0], a_, a__)

"""
结果
513 513 513
"""
```

```python
# 大端对齐解析
import struct

b = b'\x01\x02'
a = struct.unpack('>H', b)  # 2字节整数，大端对齐转换
a_ = 1 * (16 ** 2) + 2 * (16 ** 0)  # 手动计算
c_list = struct.unpack('2B', b)  # 1字节整数
a__ = c_list[0] * (16 ** 2) + c_list[1]
print(a[0], a_, a__)

"""
结果
258 258 258
"""
```